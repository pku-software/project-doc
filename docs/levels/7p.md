# Lv.7+ 新的开始

在前面记账中，你已经完成了一个 Lisp 的解释器——虽然这个 Lisp 语言相比真正的 Lisp 方言简单很多，但是你在这个过程中也了解了许多关于软件工程、编译原理、函数式编程的各种各样的思想。愿你在辛苦的汗水之下，收获了一份幸福的成就感。

接下来，如果你还想继续完善你的解释器，我在这里提供若干思路，仅供抛砖引玉。我们助教非常期待同学们在这里的创新！

## 方向 1：添加更多的内置过程

最简单的，就是在内置过程上做更多工作。比如，你可以提供更多的数学函数，从而让程序执行更复杂的运算。

我们的 Mini Lisp 没有提供任何字符串操作函数。你可以添加一些如字符串与整数的转换、字符串的拼接、访问、操作等等内置过程。

此外，你可以结合一些其它的第三方库，实现非常复杂的功能。比如，你可以综合一些 2D 绘图库，使得你的解释器支持通过一些内置过程，在窗口中绘制各种各样图案（然后你就能用 Lisp 写一个《不围棋》了，哈哈）。

你还可以尝试实现 `read` 内置过程——从标准输入读取一个表达式（外部表示）。但这个功能实现起来非常复杂；你可以先尝试实现 `readline` 类似的内置过程，读取一行输入，然后再 `eval`。这个会比 `read` 容易得多。

## 方向 2：改善用户体验

我们的 REPL 设计得非常简单。你可以在此基础上做更多改善用户体验的功能；比如支持连续多行的输入：

```scheme
>>> (define (f x)      ; 此处换行，解释器继续等待输入
...         (* x x))
()
>>> (f 2)
4
```

更进一步，你可以实现更复杂的功能如光标自动定位、代码高亮等等（难度不小哦！）。

## 方向 3：设计更复杂的语法

我们的 Mini Lisp 语言灵感来自 R<sup>5</sup>RS，也就是 Scheme。你可以参考 Scheme 语言的更多语法，来给 Mini Lisp 添加更多功能。

比如：
- 多行注释；
- 有理数运算；
- 宏；
- 延迟求值（`stream` 与 `delay`）；
- ……
